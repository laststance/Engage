appId: com.anonymous.engage
tags: [ios]
---
# Default Preset Task Initialization E2E Test
# Tests that default categories and tasks are properly initialized on first launch
# and that the 3 recommended tasks are suggested to new users

- launchApp:
    clearState: true

# Wait for app initialization and default preset seeding
- waitForAnimationToEnd:
    timeout: 3000

# Verify we're on Calendar screen (default) - this will wait for the app to be ready
- assertVisible:
    id: 'calendar-screen'

# Test 1: Verify default categories and tasks are initialized
# Open a day to access task selection
- tapOn:
    point: 50%, 50% # Tap on middle of calendar
- waitForAnimationToEnd

# Open task picker
- tapOn:
    id: 'task-selection-button'
- waitForAnimationToEnd

# Verify default categories exist
- assertVisible: '事業'
- assertVisible: '生活'

# Scroll to see all tasks
- scroll
- waitForAnimationToEnd

# Verify some default business tasks exist
- assertVisible: 'ネットワーキング'
- assertVisible: 'アイデア記録'

# Verify some default life tasks exist (using partial matches to be more flexible)
- assertVisible: 
    text: '運動.*'
- assertVisible: '読書・勉強'
- assertVisible: '家族との時間'

# Test 2: Verify basic task selection works
# Close task picker to test core functionality
- tapOn:
    id: 'task-picker-close'
- waitForAnimationToEnd

# Close day modal
- tapOn:
    id: 'day-modal-close'
- waitForAnimationToEnd

# Test completed - default preset initialization verified
- assertVisible:
    id: 'calendar-screen'
