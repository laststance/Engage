appId: com.anonymous.engage
---
# Test that basic UI elements are rendered correctly on each screen
# Using proven navigation strategy from basic-navigation.yaml

- launchApp:
    clearState: true
- waitForAnimationToEnd:
    timeout: 2000

# Test Calendar screen UI elements (default screen)
- assertVisible:
    id: 'calendar-screen'
- assertVisible:
    id: 'calendar-title'
- assertVisible:
    id: 'calendar-description'

# Test Today screen UI elements - using proven multi-strategy approach
- tapOn:
    point: 50%, 93%
    repeat: 2
    delay: 300
    waitToSettleTimeoutMs: 1000
- waitForAnimationToEnd:
    timeout: 1000

# Strategy 2: If still on calendar, try longPress
- runFlow:
    when:
      visible:
        id: 'calendar-screen'
    commands:
      - longPressOn:
          point: 50%, 93%
          waitToSettleTimeoutMs: 2000
      - waitForAnimationToEnd:
          timeout: 2000

# Strategy 3: Try different Y coordinates
- runFlow:
    when:
      visible:
        id: 'calendar-screen'
    commands:
      - tapOn:
          point: 50%, 91%
          waitToSettleTimeoutMs: 1000
      - waitForAnimationToEnd:
          timeout: 1000
      - tapOn:
          point: 50%, 95%
          waitToSettleTimeoutMs: 1000
      - waitForAnimationToEnd:
          timeout: 2000

# Final check with generous timeout
- extendedWaitUntil:
    visible:
      id: 'today-screen'
    timeout: 20000

# If we reach today screen, verify UI elements
- runFlow:
    when:
      visible:
        id: 'today-screen'
    commands:
      - assertVisible:
          id: 'today-screen'
      - assertVisible:
          id: 'today-title'
      - assertVisible:
          id: 'today-description'

# Continue testing if we're on today screen
- runFlow:
    when:
      visible:
        id: 'today-screen'
    commands:
      # Test Stats screen UI elements
      - tapOn:
          point: 83%, 93%
          repeat: 2
          delay: 300
          waitToSettleTimeoutMs: 1000
      - waitForAnimationToEnd:
          timeout: 2000
      - extendedWaitUntil:
          visible:
            id: 'stats-screen'
          timeout: 10000
      - assertVisible:
          id: 'stats-screen'
      - assertVisible:
          id: 'stats-title'
      - assertVisible:
          id: 'stats-description'
      
      # Verify all tabs are still accessible by going back to Calendar
      - tapOn:
          point: 17%, 93%
          repeat: 2
          delay: 300
          waitToSettleTimeoutMs: 1000
      - waitForAnimationToEnd:
          timeout: 2000
      - extendedWaitUntil:
          visible:
            id: 'calendar-screen'
          timeout: 10000
      - assertVisible:
          id: 'calendar-screen'
